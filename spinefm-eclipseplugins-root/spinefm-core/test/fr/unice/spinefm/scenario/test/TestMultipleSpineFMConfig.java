package fr.unice.spinefm.scenario.test;import static org.junit.Assert.*;import java.util.Collection;import java.util.Set;import org.junit.Test;import fr.unice.spinefm.ActionModel.UserActionModel.UserActionModelFactory;import fr.unice.spinefm.ActionModel.UserActionModel.UserInit;import fr.unice.spinefm.ActionModel.UserActionModel.UserSelect;import fr.unice.spinefm.FMModel.Feature;import fr.unice.spinefm.MSPLModel.DomainElement;import fr.unice.spinefm.ProcessModel.ConfigurationProcessStep;import fr.unice.spinefm.ProcessModel.ContextManager;import fr.unice.spinefm.exceptions.ElementNotFoundException;import fr.unice.spinefm.exceptions.FatalSpineFMException;import fr.unice.spinefm.fmengine.exceptions.FMEngineException;public class TestMultipleSpineFMConfig {	@Test	public void testTwoConfigsAreNotInterrelated() throws ElementNotFoundException, FatalSpineFMException, FMEngineException {		UserInit ui = UserActionModelFactory.eINSTANCE.createUserInit();		ui.setFilePath("./test-resources/simplemodel/MultipleSoftwareProductLine.xmi");		ui.apply();				ContextManager cm1 = (ContextManager)ui.getResult();				ui = UserActionModelFactory.eINSTANCE.createUserInit();		ui.setFilePath("./test-resources/simplemodel/MultipleSoftwareProductLine.xmi");		ui.apply();				ContextManager cm2 = (ContextManager)ui.getResult();				assertFalse(cm1.equals(cm2));				UserSelect usc = UserActionModelFactory.eINSTANCE.createUserSelect();		usc.initManualAction(cm1);		usc.setContextID("globalcontext");		usc.setDomainElementName("layout");		usc.setFeatureName("GLC");		usc.apply();				DomainElement de = cm2.getMspl().getDomainElementByName("layout");		ConfigurationProcessStep cpsLayout = cm2.getGlobalContext().getCPSOfDE(de);				Collection<String> selectedFeature = cm2.getFma().getSFI().getSelectedFeature(cpsLayout.getConfName());				assertFalse(selectedFeature.contains("GLC"));	}}